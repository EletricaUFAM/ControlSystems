A = [-3/4,1/4,-1/2; 1/4,1/4,-1/2; 1/2,1/2,-1/2]
B = [3/4;-1/4;-1/4]
C = [-3/2, -3/2, 0]
D = [3/2]

w = ctrb(A, B)

rank(w)

poly(A)

CB = C * w

Q2 = [1,1,0.5;0,1,1;0,0,1]

Q = w * Q2

CCHAP = C * Q

P = ss(A,B,C,D);

H = tf(P)


%%%%%%%%%%%%% Question 2 %%%%%%%%%%%%%%%%

A2 = [-0.5,0.5,-0.5;0.5,0.5,-0.5; 0.75, 0.75, -0.5]

B2 = [0.5;-0.5;-0.5]

C2 = [-2,-2,0]

D2 = [2]

w2 = ctrb(A2,B2)

rank(w2)


w2(:,1)

[V,D] = eig(A2)

P = ss(A2,B2,C2,D2);

H = tf(P)

pl = zpk(H)

Q = [w2(:,1) [0;1;0] [0;0;1]]

Pnew = ss2ss(P, inv(Q))

D(1,1)